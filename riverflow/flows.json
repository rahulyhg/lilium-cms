{
    "version" : 1.1,

    "supported" : [
        "admin_get", "admin_post",
        "get", "post",
        "form", "table",
        "livevar", "setup"
    ],

    "extensions" : [
        "admin_menu",
        "admin_sub_menu",
        "hooks",
        "post_leaf"
    ],

    "rivers" : [
        {
            "module" : "backend/login.js",
            "endpoint" : "login",
            "support" : ["api_get", "api_post"]
        }, {
            "module" : "proofreader.js",
            "endpoint" : "proofread",
            "support" : ["setup"]
        }, {
            "module" : "ponglinks.js",
            "endpoint" : "ponglinks",
            "support" : ["livevar", "admin_get", "admin_post", "setup"],
            "admin_menu" : {
                "id": "ponglinks",
                "faicon": "fa-external-link",
                "displayname": "Ponglinks",
                "priority": 330,
                "rights": ["ponglinks"],
                "absURL": "admin/ponglinks",
                "children": []
            }
        }, {
            "module" : "ponglinks.js",
            "endpoint" : "pong",
            "support" : ["get"]
        }, {
            "module" : "search.js",
            "endpoint" : "search",
            "support" : ["livevar", "setup"]
        }, {
            "module" : "ads.js",
            "endpoint" : "ads",
            "support" : ["admin_get", "admin_post", "livevar", "setup"]
        }, {
            "module" : "history.js",
            "endpoint" : "history",
            "support" : ["admin_get", "admin_post", "livevar"]
        }, {
            "module" : "datareader.js",
            "endpoint" : "datareader",
            "support" : ["admin_get", "admin_post", "livevar", "form"],
            "admin_menu" : {
                "id": "datareader",
                "faicon": "fa-chart-pie",
                "displayname": "Data Reader",
                "priority": 530,
                "rights": ["analyst"],
                "absURL": "admin/datareader",
                "children": []
            }
        }, {
            "module" : "livevars.js",
            "endpoint" : "livevars",
            "support" : ["api_get"]
        }, {
            "module" : "passwordrecovery.js",
            "endpoint" : "accesscheckpoint",
            "support" : ["get", "post", "admin_get"]
        }, {
            "module" : "lys.js",
            "endpoint" : "lys",
            "support" : ["livevar"]
        }, {
            "module" : "reporting.js",
            "endpoint" : "r",
            "support" : ["livevar", "get", "setup"]
        }, {
            "module" : "instagram.js",
            "endpoint" : "instagram",
            "support" : ["livevar", "setup", "get"]
        }, {
            "module" : "fix.js",
            "endpoint" : "fix",
            "support" : ["livevar", "admin_get", "admin_post", "form"],
            "admin_menu" : {
                "id": "support",
                "faicon": "fa-life-ring",
                "displayname": "Support",
                "priority": 2500,
                "rights": ["dash"],
                "absURL": "admin/fix",
                "children": []
            }
        }, {
            "module" : "topics.js",
            "endpoint" : "topics",
            "support" : ["admin_get", "admin_post", "livevar", "form"]
        }, {
            "module" : "plugins.js",
            "endpoint" : "plugins",
            "support" : ["admin_get", "admin_post", "livevar", "table"]
        }, {
            "module" : "themes.js",
            "endpoint" : "themes",
            "support" : ["admin_get", "admin_post", "table", "livevar"]
        }, {
            "module" : "dashboard.js",
            "endpoint" : "dashboard",
            "support" : ["admin_get", "livevar"],
            "admin_menu" : {
                "id": "dashboard",
                "faicon": "fa-tachometer",
                "displayname": "Dashboard",
                "priority": 100,
                "rights": ["dash"],
                "absURL": "admin/dashboard",
                "children": []
            }
        }, {
            "module" : "analytics.js",
            "endpoint" : "googleanalytics",
            "support" : ["livevar", "setup"],
            "hooks" : [
                {"name" : "settings_saved", "priority" : 1000, "callback" : "settingsSaved"}
            ]
        }, {
            "module" : "communications.js",
            "endpoint" : "communications",
            "support" : ["admin_post", "livevar"]
        }, {
            "module" : "mail.js",
            "endpoint" : "mailtemplates",
            "support" : ["setup", "admin_post", "admin_get", "livevar"],
            "hooks" : [
                {"name" : "settings_will_save", "priority" : 50, "callback" : "settingsWillSave" }
            ],
            "admin_menu" : {
                "id": "mailtemplates",
                "faicon": "fa-envelope",
                "displayname": "Email Templates",
                "priority": 250,
                "rights": ["edit-emails"],
                "absURL": "admin/mailtemplates/list",
                "children": []
            }
        }, {
            "module" : "snip.js",
            "endpoint" : "snips",
            "support" : ["admin_get"]
        }, {
            "module" : "secrets.js",
            "endpoint" : "secrets",
            "support" : ["admin_get", "admin_post", "livevar"]
        }, {
            "module" : "devtools.js",
            "endpoint" : "devtools",
            "support" : ["admin_get", "admin_post", "livevar", "form"]
        }, {
            "module" : "embed.js",
            "endpoint" : "embed",
            "support" : ["admin_get"]
        }, {
            "module" : "sharedcache.js",
            "endpoint" : "sharedcache",
            "support" : ["livevar"]
        }, {
            "module" : "tools.js",
            "endpoint" : "tools",
            "support" : ["admin_get", "admin_post", "livevar", "setup"],
            "admin_menu" : {
                "id": "tools",
                "faicon": "fa-wrench",
                "displayname": "Tools",
                "priority": 800,
                "rights": ["develop"],
                "absURL": "admin/tools",
                "children": []
            }
        }, {
            "module" : "conversations.js",
            "endpoint" : "conversations",
            "support" : ["admin_get", "admin_post", "livevar"]
        }, {
            "module" : "feed.js",
            "endpoint" : "feed",
            "support" : ["setup", "admin_get", "livevar"],
            "admin_menu" : {
                "id": "feed",
                "faicon": "fa-newspaper",
                "displayname": "What's up",
                "priority": 80,
                "rights": ["dash"],
                "absURL": "admin/feed",
                "children": []
            }
        }, {
            "module" : "styledpages.js",
            "endpoint" : "styledpages",
            "support" : ["admin_get", "admin_post", "form", "table", "livevar", "setup", "api_get"]
        }, {
            "module" : "docs.js",
            "endpoint" : "docs",
            "support" : ["get"]
        }, {
            "module" : "cdn.js",
            "endpoint" : "cdn",
            "support" : [],
            "hooks" : [
                { "name" : "themeLML_compiled", "priority" : 100, "callback" : "themeLMLCompiled" }
            ]
        }, {
            "module" : "postleaf.js",
            "endpoint" : "postleaf",
            "support" : ["livevar"],
            "hooks" : [
                { "name" : "post_create_postleaf", "priority" : 10, "callback" : "postCreatePostleaf" }
            ]
        }, {
            "module" : "article.js",
            "endpoint" : "article",
            "support" : ["admin_get", "admin_post", "form", "table", "api_get", "api_post"],
            "admin_menu" : {
                "id": "articles",
                "faicon": "fa-pencil",
                "displayname": "Content",
                "priority": 200,
                "rights": ["list-articles"],
                "absURL": "admin/article",
                "children": [{
                    "id": "articles-topics",
                    "faicon": "fa-tags",
                    "displayname": "Topics",
                    "priority": 210,
                    "rights": ["manage-topics"],
                    "absURL": "admin/topics",
                    "children": []
                }, {
                    "id": "contentchains",
                    "faicon": "fa-link",
                    "displayname": "Content Chains",
                    "priority": 235,
                    "rights": ["admin"],
                    "absURL": "admin/chains",
                    "children": []
                }, {
                    "id": "styledpages",
                    "faicon": "fa-paragraph",
                    "displayname": "Styled Pages",
                    "priority": 250,
                    "rights": ["styledpages"],
                    "absURL": "admin/styledpages/list",
                    "children": []
                }]
            }
        }, {
            "module" : "contentchains.js",
            "endpoint" : "chains",
            "support" : ["livevar", "admin_get", "admin_post", "form"]
        }, {
            "module" : "article.js",
            "endpoint" : "content",
            "support" : ["livevar"]
        }, {
            "module" : "album.js",
            "endpoint" : "album",
            "support" : ["admin_post", "livevar"],
            "post_leaf" : {
                "name" : "album", 
                "displayname" : "Album",
                "script" : {
                    "add" : "addAlbumToPost",
                    "edit" : "editAlbumToPost",
                    "show" : "renderAlbum"
                }
            },
            "hooks" : [
                { "name" : "article_deepfetch", "priority" : 50, "callback" : "articleDeepFetch" }
            ]
        }, {
            "module" : "quiz.js",
            "endpoint" : "quiz",
            "support" : ["admin_post"],
            "post_leaf" : {
                "name" : "quiz", 
                "displayname" : "Quiz",
                "script" : {
                    "add" : "addQuizToPost",
                    "edit" : "editQuizToPost",
                    "show" : "renderQuiz"
                }
            }
        }, {
            "module" : "crew.js",
            "endpoint" : "crew",
            "support" : ["admin_get", "admin_post", "livevar", "setup", "form"],
            "admin_menu" : {
                "id": "crew",
                "faicon": "fa-beer",
                "displayname": "Crew",
                "priority": 500,
                "rights": ["admin"],
                "absURL": "admin/crew",
                "children": []
            }
        }, {
            "module" : "entities.js",
            "endpoint" : "entities",
            "support" : ["admin_get", "admin_post", "livevar", "setup", "table", "form", "api_get", "api_post"],
            "admin_menu" : {
                "id": "entities",
                "faicon": "fa-users",
                "displayname": "Entities",
                "priority": 500,
                "rights": ["list-entities"],
                "absURL": "admin/entities",
                "children": [{
                    "id": "entities-rights",
                    "faicon": "fa-minus-circle",
                    "displayname": "Roles",
                    "priority": 510,
                    "rights": ["manage-roles"],
                    "absURL": "admin/role/list",
                    "children": []
                }]
            }
        }, {
            "module" : "entityrelationship.js",
            "endpoint" : "entityrelationship",
            "support" : ["admin_get", "admin_post", "livevar", "setup"]
        }, {
            "module" : "personas.js",
            "endpoint" : "persona",
            "support" : ["admin_get", "admin_post", "form", "livevar"],
            "hooks" : [
                { "name" : "post_create_persona", "priority" : 15, "callback" : "postCreatePersona" }
            ]
        }, {
            "module" : "role.js",
            "endpoint" : "role",
            "support" : ["admin_get", "admin_post", "livevar", "form", "setup"]
        }, {
            "module" : "preferences.js",
            "endpoint" : "preferences",
            "support" : ["admin_get", "admin_post", "livevar", "form"]
        }, {
            "module" : "media.js",
            "endpoint" : "media",
            "support" : ["admin_get", "admin_post", "setup"]
        }, {
            "module" : "badges.js",
            "endpoint" : "decorations",
            "support" : ["setup", "livevar", "admin_post", "admin_get"]
        }, {
            "module" : "socialdispatch.js",
            "endpoint" : "socialdispatch",
            "support" : ["admin_get", "admin_post", "livevar", "form", "setup"],
            "admin_menu" : {
                "id": "socialdispatch",
                "faicon": "fa-share-alt",
                "displayname": "Social Dispatch",
                "priority": 410,
                "rights": ["editor"],
                "absURL": "admin/socialdispatch",
                "children": []
            }
        }, {
            "module" : "amp.js",
            "endpoint" : "amp",
            "support" : ["get"]
        }, {
            "module" : "cakepop.js",
            "endpoint" : "cakepop",
            "support" : ["admin_get", "admin_post", "livevar", "form"],
            "admin_menu" : {
                "id": "cakepop",
                "faicon": "fa-window-maximize",
                "displayname": "Cakepops",
                "priority": 415,
                "rights": ["cakepops"],
                "absURL": "admin/cakepop",
                "children": []
            }
        }, {
            "module" : "ipevents.js",
            "endpoint" : "ipevents",
            "support" : ["livevar"]
        }, {
            "module" : "sites.js",
            "endpoint" : "sites",
            "support" : ["admin_get", "admin_post", "livevar", "form"],
            "admin_menu" : {
                "id": "sites",
                "faicon": "fa-globe",
                "displayname": "Network",
                "priority": 50,
                "rights": ["manage-sites"],
                "absURL": "admin/sites",
                "children": []
            }
        }, {
            "module" : "session.js",
            "endpoint" : "session",
            "support" : ["livevar"]
        }, {
            "module" : "settings.js",
            "endpoint" : "settings",
            "support" : ["admin_get", "admin_post", "form", "livevar"],
            "admin_menu" : {
                "id": "settings",
                "faicon": "fa-cogs",
                "displayname": "Settings",
                "priority": 1000,
                "rights": ["manage-settings"],
                "absURL": "admin/settings",
                "children": [{    
                    "id": "ads",
                    "faicon": "fa-usd-square",
                    "displayname": "Ads management",
                    "priority": 400,
                    "rights": ["admin"],
                    "absURL": "admin/ads",
                    "children": []
                }, {
                    "id": "themes",
                    "faicon": "fa-paint-brush",
                    "displayname": "Themes",
                    "priority": 600,
                    "rights": ["manage-themes"],
                    "absURL": "admin/themes",
                    "children": []
                }, {
                    "id": "devtools",
                    "faicon": "fa-hashtag",
                    "displayname": "Dev Tools",
                    "priority": 2000,
                    "rights": ["develop"],
                    "absURL": "admin/devtools",
                    "children": []
                }, {
                    "id": "plugins",
                    "faicon": "fa-plug",
                    "displayname": "Plugins",
                    "priority": 700,
                    "rights": ["manage-plugins"],
                    "absURL": "admin/plugins",
                    "children": []
                }]
            }
        }       
    ]   
}
